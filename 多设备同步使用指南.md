# 🔄 多设备数据同步使用指南

## 功能说明

通过GitHub数据同步功能，您可以在不同设备（电脑、平板、手机）上使用训练系统，所有训练记录会自动同步到GitHub仓库，实现数据共享。

## 📋 前置准备

### 1. 创建GitHub Personal Access Token

1. 访问 https://github.com/settings/tokens/new
2. 在**Token名称**中输入：`Pinyin Training Sync`
3. **有效期（Expiration）**：建议选择 90 days 或 No expiration
4. **权限选择（Select scopes）**：
   - ✅ 勾选 `repo`（完整的仓库访问权限）
   - 这将自动勾选下面的所有子权限
5. 点击页面底部的 **Generate token** 按钮
6. ⚠️ **重要**：复制生成的Token（以 `ghp_` 开头）
   - Token只显示一次！请立即保存
   - 建议保存到密码管理器中

## 🚀 使用步骤

### 第一步：配置GitHub同步

1. 打开训练系统：https://jiaming-yi.github.io/pingyinxulian/桐桐拼音智能训练系统.html
2. 点击顶部 **⚙️ 设置** 标签
3. 在"GitHub数据同步"区域填写：
   - **GitHub Personal Access Token**：粘贴刚才复制的Token
   - **GitHub用户名**：`Jiaming-Yi`（已预填）
   - **仓库名称**：`pingyinxulian`（已预填）
4. 点击 **💾 保存配置** 按钮

### 第二步：首次上传数据

在**主设备**（通常是第一台使用的设备）上：

1. 进行一些训练并录入结果
2. 进入 **⚙️ 设置** 标签
3. 点击 **☁️ 上传数据到GitHub** 按钮
4. 等待提示"✅ 数据已成功上传到GitHub"

### 第三步：其他设备同步数据

在**其他设备**上：

1. 打开训练系统网址
2. 进入 **⚙️ 设置** 标签
3. 填写相同的GitHub配置信息
4. 点击 **⬇️ 从GitHub下载数据** 按钮
5. 所有训练记录会自动下载并合并

## 💡 日常使用流程

### 方案A：手动同步

1. **训练前**：点击"从GitHub下载数据"获取最新记录
2. **进行训练**：正常使用系统训练
3. **录入结果**：保存训练结果时会提示是否同步
4. **训练后**：点击"上传数据到GitHub"备份数据

### 方案B：自动提示同步

- 每次保存训练结果后，系统会自动询问是否同步到GitHub
- 点击"确定"即可立即上传
- 建议每次训练后都及时同步

## 📊 数据管理

### 查看本地数据

在**设置**页面可以看到：
- 本地训练记录总数
- 上次同步时间

### 导出本地数据

如需备份：
1. 点击 **📥 导出本地数据** 按钮
2. 会下载一个JSON格式的数据文件
3. 文件名格式：`pinyin_training_data_2025-10-01.json`

### 数据存储位置

训练数据会保存在GitHub仓库的：
```
pingyinxulian/
└── data/
    └── training_records.json
```

您可以访问：
https://github.com/Jiaming-Yi/pingyinxulian/blob/main/data/training_records.json
查看云端数据文件。

## 🔒 安全提示

1. **Token安全**：
   - Token相当于密码，不要分享给他人
   - 不要在公开场合展示Token
   - 如果Token泄露，立即到GitHub删除并重新生成

2. **数据隐私**：
   - 训练数据保存在您的私有GitHub仓库
   - 只有拥有Token的人才能访问
   - GitHub有完整的访问日志

3. **浏览器存储**：
   - Token保存在浏览器的LocalStorage中
   - 清除浏览器数据会删除Token配置
   - 需要在每个设备上单独配置

## ❓ 常见问题

### Q1: 上传失败怎么办？

**可能原因**：
- Token权限不足：确认勾选了`repo`权限
- Token过期：重新生成Token
- 网络问题：检查网络连接

**解决方法**：
1. 检查Token是否正确
2. 重新保存配置
3. 查看错误提示信息

### Q2: 多个设备的数据会冲突吗？

**不会冲突**！系统会智能合并数据：
- 使用训练编号（ID）去重
- 保留所有不重复的记录
- 按日期自动排序

### Q3: 可以在手机上使用吗？

**完全可以**！
- 在手机浏览器打开训练系统网址
- 同样配置GitHub Token
- 训练数据会自动同步
- 界面自适应手机屏幕

### Q4: 如果忘记上传数据怎么办？

**数据不会丢失**：
- 本地浏览器始终保存完整数据
- 下次记得上传即可
- 可以导出本地数据作为备份

### Q5: 可以分享给其他家长使用吗？

**可以，但需要注意**：
- 共享您的系统网址即可
- 但不要共享您的Token
- 其他家长需要创建自己的Token
- 每个家长的数据是独立的

## 🎯 最佳实践

1. **定期同步**：
   - 建议每次训练后立即同步
   - 避免数据在多个设备上差异过大

2. **备份策略**：
   - GitHub自动版本控制
   - 定期导出本地数据作为额外备份
   - 重要数据可以多份备份

3. **多设备协作**：
   - 确定一台主设备
   - 其他设备使用前先同步
   - 避免同时在多台设备上操作

4. **Token管理**：
   - 使用密码管理器保存Token
   - 定期更新Token（如90天）
   - 删除不用的设备上的Token

## 📱 多设备使用场景

### 场景1：家里 + 学校

- **家里电脑**：主要训练设备
- **学校平板**：课间练习
- 数据实时同步，无缝衔接

### 场景2：父母协作

- **爸爸的电脑**：周末训练
- **妈妈的手机**：平时监督
- 共享训练进度，协同教学

### 场景3：长期追踪

- 所有历史数据保存在GitHub
- 可以查看长期学习曲线
- 数据永不丢失

## 🆘 技术支持

如遇问题：
1. 查看错误提示信息
2. 检查GitHub Token权限
3. 尝试重新配置
4. 导出本地数据作为备份

---

**祝您使用愉快！** 🎉 